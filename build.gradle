apply plugin: 'application'
apply plugin: 'java'

sourceCompatibility = 1.8

project.ext {
    configPath = "$rootProject.projectDir/configuration/"
    dropwizardVersion = '0.8.2'
    jerseyVersion = '2.19'
}

repositories {
    mavenCentral()
}

dependencies {

    compile(
            'com.yammer.metrics:metrics-core:2.2.0',
            'io.dropwizard:dropwizard-core:'+dropwizardVersion,
            'io.dropwizard:dropwizard-auth:'+dropwizardVersion
    )

    testCompile(
            'junit:junit:4.12',
            'io.dropwizard:dropwizard-testing:1.1.0',
            'org.skyscreamer:jsonassert:1.5.0' //json assert
    )

    testCompile('org.glassfish.jersey.test-framework.providers:jersey-test-framework-provider-grizzly2:'+jerseyVersion)
            {
                //non io blocking test framework plus server)
                exclude group: 'junit'
                exclude group: 'javax.servlet'
            }

}

mainClassName = "com.cobainc0.beam.BeamApplication"


run {
    args = ["server", configPath+"app-config.yml"]
}
